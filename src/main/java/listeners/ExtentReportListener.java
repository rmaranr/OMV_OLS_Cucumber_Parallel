//package listeners;////import com.aventstack.extentreports.ExtentReports;//import com.aventstack.extentreports.ExtentTest;//import com.aventstack.extentreports.markuputils.ExtentColor;//import com.aventstack.extentreports.markuputils.MarkupHelper;//import com.aventstack.extentreports.reporter.ExtentHtmlReporter;//import com.aventstack.extentreports.reporter.configuration.Theme;//import org.apache.commons.io.FileUtils;//import org.openqa.selenium.OutputType;//import org.openqa.selenium.TakesScreenshot;//import org.openqa.selenium.WebDriver;//import utilities.api.BaseUtils;//import utilities.api.PropUtils;////import java.io.File;//import java.io.IOException;//import java.text.DateFormat;//import java.text.SimpleDateFormat;//import java.util.Date;//import java.util.Properties;////import static utilities.api.BaseUtils.suiteFileName;////public class ExtentReportListener{//    public static ExtentTest test = null;//    public static ExtentReports extent;//    public static ExtentHtmlReporter report;//    private static BaseUtils baseUtils;////    public static String createResultsFolder(String folderPath) {//        File dirInfo = new File(folderPath);//        boolean isCreated = false;//        // creating the folder which is holding the test reports//        if (!dirInfo.exists()) {//            isCreated = dirInfo.mkdir();//        }//        if(isCreated) {//            System.out.println("New directory has been created...");//        }else{//            System.out.println("Failed to create a new directory");//        }//        return  folderPath;//    }////    public static ExtentReports setUp(String reportFileName) {////        String reportsFolder = createResultsFolder("./target/Reports");//        if(reportFileName.contains("OMV"))//           reportsFolder = createResultsFolder("./target/Reports/OMVReports");//        else//            reportsFolder = createResultsFolder("./target/Reports/OLSReskinReports");////        String reportLocation = reportsFolder+"/"+reportFileName+".html";//        report = new ExtentHtmlReporter(reportLocation);//        report.config().setDocumentTitle("Automation Test Report");//        report.config().setReportName("Automation Test Report");//        report.config().setTheme(Theme.STANDARD);//        System.out.println("Extent Report Location Initialized...");//        report.start();////        extent = new ExtentReports();//        extent.attachReporter(report);//        extent.setSystemInfo("Application: ", "Wex");//        extent.setSystemInfo("OperatingSystem: ", System.getProperty("os.name"));//        extent.setSystemInfo("User Name: ", System.getProperty("user.name"));//        System.out.println("System info. set in Extent Report");//        return extent;//    }//    public static void //testStepHandle(String testStatus, WebDriver driver, Scenario logger, Throwable throwable) {////        switch (testStatus) {//            case "FAIL"://                extentTest.fail(MarkupHelper.createLabel("Test case is Failed : ", ExtentColor.RED));//                                extentTest.error(throwable.fillInStackTrace());//                try {//                    extentTest.addScreenCaptureFromPath(captureScreenShot(driver));//                } catch (IOException e) {//                    e.printStackTrace();//                }//                if (driver != null) {//                    driver.quit();//                }//                break;//            case "PASS"://                extentTest.pass(MarkupHelper.createLabel("Test Case is Passed : ", ExtentColor.GREEN));//                extentTest.error(throwable.fillInStackTrace());//                break;//            default://                break;//        }//    }////    public static void testStepHandleAPI(String testStatus, Scenario logger, Throwable throwable) {////        switch (testStatus) {//            case "FAIL"://                extentTest.fail(MarkupHelper.createLabel("Test case is Failed : ", ExtentColor.RED));//                extentTest.error(throwable.fillInStackTrace());//                throwable.printStackTrace();//                //     extentTest.fail(throwable.get)//                break;//            case "PASS"://                extentTest.pass(MarkupHelper.createLabel("Test Case is Passed : ", ExtentColor.GREEN));//                extentTest.error(throwable.fillInStackTrace());//                break;//            default://                break;//        }//    }////    public static String captureScreenShot(WebDriver driver) throws IOException {////        TakesScreenshot screenshot = (TakesScreenshot) driver;//        File src = screenshot.getScreenshotAs(OutputType.FILE);//        String dest = System.getProperty("user.dir") + System.getProperty("file.separator") + "target"+System.getProperty("file.separator")+"uiscreenshots" + System.getProperty("file.separator") + getCurrentDateAndTime() + ".png";//        File target = new File(dest);//        FileUtils.copyFile(src, target);//        return dest;//    }//    private static String getCurrentDateAndTime() {////        String str = null;//        try {//            DateFormat dateFormat = new SimpleDateFormat("MM/dd/yyyy HH:mm:ss:SSS");//            Date date = new Date();//            str = dateFormat.format(date);//            str = str.replace(" ", "").replaceAll("/", "").replaceAll(":", "");//        } catch (Exception e) {////        }//        return str;//    }//    /*//    Method to start report//     *///    public static ATUTestRecordListener startReport(String reportFileName){//        ATUTestRecordListener atuTestRecordListener = null;//        if(!reportFileName.contains("API")){//            System.out.println("UI");//            atuTestRecordListener = new ATUTestRecordListener();//            atuTestRecordListener.startRecording();//            System.out.println("Recording has been started");//        }//        ExtentReportListener.setUp(reportFileName);//     //   atuTestRecordListener = new ATUTestRecordListener();//     //   atuTestRecordListener.startRecording();//     //   System.out.println("Recording has been started");//        return atuTestRecordListener;//    }//    /*//    Method to flush report//     *///    public static void flushReport(String reportFileName) {//        BaseUtils baseUtils = new BaseUtils();//        String suiteFileName = PropUtils.getPropValue(baseUtils.commonProp, "suiteFileName");//        System.out.println("Suite file name is " + suiteFileName);//        String reportsFile;//        String reportsFolderPath;//        Date currentDate = new Date();//        System.out.println("Execution Ended");//        extent.flush();//        reportsFile = "./target/Reports/"+reportFileName+".html";//        System.out.println(reportsFile);////        if(!reportFileName.contains("API")){//            System.out.println("UI");////            atuTestRecordListener.stopRecording();//            String recordingFile = "./Recordings/" + "AutomationTestCaseRecording" + ".mov";//            String recordingFolderPath = "./Recordings/pastUIRecordings/" + new SimpleDateFormat("MMMMM_dd_yyyy").format(currentDate);//        }//    }//    private static String moveFileToAnotherFolder(String currentFilePath,String destFolderPath,String fileName){//        Date currentDate = new Date();//        Boolean isCreated = false;//        File currentFile = new File(currentFilePath);//        File destReportfolder = new File(destFolderPath);//        if(!destReportfolder.exists()) {//            isCreated = destReportfolder.mkdir();//        }//        if(isCreated) {//            System.out.println("New directory has been created...");//        }else{//            System.out.println("Failed to create a new directory");//        }//        destFolderPath = destFolderPath + "/"+new SimpleDateFormat("MMMMM_dd_yyyy_HH_mm").format(currentDate)+"_"+fileName;//        if(currentFile.renameTo(new File(destFolderPath))) {//            System.out.println("File moved successfully");//        }//        else {//            System.out.println("Failed to move the file");//        }//        return destFolderPath;//    }//    public static void storeTestsRuns(String passedKey, String failedKey, String skippedKey){//        baseUtils = new BaseUtils();//        Properties commonProp = PropUtils.getProps(baseUtils.commonPropertyFile);//        int testsPassed = Integer.parseInt(PropUtils.getPropValue(commonProp,"testsPassed"));//        PropUtils.setProps(passedKey,String.valueOf(testsPassed),baseUtils.testExecutionCountFilePath);//        PropUtils.setProps("testsPassed",String.valueOf(0),baseUtils.commonPropertyFilePath);//        int testsFailed = Integer.parseInt(PropUtils.getPropValue(commonProp,"testsFailed"));//        PropUtils.setProps(failedKey,String.valueOf(testsFailed),baseUtils.testExecutionCountFilePath);//        PropUtils.setProps("testsFailed",String.valueOf(0),baseUtils.commonPropertyFilePath);//        int testsSkipped = Integer.parseInt(PropUtils.getPropValue(commonProp,"testsSkipped"));//        PropUtils.setProps(skippedKey,String.valueOf(testsSkipped),baseUtils.testExecutionCountFilePath);//        PropUtils.setProps("testsSkipped",String.valueOf(0),baseUtils.commonPropertyFilePath);//    }//}